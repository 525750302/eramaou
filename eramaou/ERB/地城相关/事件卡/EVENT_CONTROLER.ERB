;-------------------------------------------------
;日程卡随机事件控制相关
;-------------------------------------------------
;随机事件
@RANDOM_EVENT
#DIM COUNT1
#DIM CHOICE

CHOICE = 0
WHILE CHOICE == 0 || FLAGNAME:CHOICE == ""
    CHOICE = RAND(100) + 100
WEND

CALL PRINT_EVENT, CHOICE
TRYCALLFORM EVENT_ACT_{CHOICE}


;打印事件界面
@PRINT_EVENT, ARG
#DIM COUNT1

PRINTL
PRINTL
DRAWLINEFORM =
ALIGNMENT CENTER
FONTITALIC

TRYCALLFORM EVENT_NAME_{ARG}
PRINTFORML %TEXT_RETURN:0%

FONTREGULAR
ALIGNMENT LEFT
PRINTL
TRYCALLFORM EVENT_TEXT_{ARG}
FOR COUNT1,0,RESULT
    CALL PRINT_STR, @"%TEXT_RETURN:COUNT1%"
    PRINTW
NEXT

PRINTL
RETURN